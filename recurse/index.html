<!doctype html><html lang=en><head><meta charset=utf-8><title>Recurses &ndash; The Leo Zone</title><link rel=icon href=/img/favicon.png type=image/x-icon><meta name=viewport content="width=device-width,initial-scale=1"><link rel=stylesheet href=/sass/main.min.c3058774608ff505929d55b955fa22ff4a9db4bd6d99fd19488e47f97538c764.css><link rel=stylesheet href=/sass/header.min.739e4eefba9397b2e19b1d93ae31281c20fd4b3afdc7480e68099f62bae50f67.css></head><body><header><div class=header-content><a href=/><div class=logo>THE LEO ZONE</div></a><div class=stripes><div class="stripe top"></div><div class="stripe middle"></div><div class="stripe bottom"></div></div><a href=/><div class=sun><div class=stripes></div></div></a><div class=nav><div class=folder><a href=https://github.com/robinovitch61 target=_blank><div class=svg-container><div class=text>github</div><svg width="100%" height="100%" viewBox="0 0 62 39" xmlns="http://www.w3.org/2000/svg">style="fill-rule:evenodd;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:1.5;"><g transform="matrix(1,0,0,1,-430.298,-160.148)"><g transform="matrix(1,0,0,1,-1300.35,76.8871)"><path d="M1731.65 92.982s0-4.099.0-6.676C1731.65 85.763 1731.87 85.244 1732.25 84.86 1732.63 84.477 1733.15 84.261 1733.69 84.261c4.8599999999999.0 16.7.0 16.7.0L1756.75 88.872 1750.42 92.982h-18.77z" style="fill:#5c5c5c;stroke:#c2c2c2;stroke-width:2px"/></g><g transform="matrix(1,0,0,1,-1300.35,76.3854)"><path d="M1756.75 89.374 1750.42 93.483h-18.77v25.786C1731.65 119.8 1731.86 120.308 1732.24 120.683 1732.61 121.058 1733.12 121.269 1733.65 121.269 1742.75 121.269 1780.2 121.269 1789.3 121.269 1789.83 121.269 1790.34 121.058 1790.72 120.683 1791.09 120.308 1791.3 119.8 1791.3 119.269c0-5.727.0-22.147.0-27.873.0-1.104-.889999999999873-1.999-2-2C1781.94 89.391 1756.75 89.374 1756.75 89.374z" style="fill:none;stroke:#c2c2c2;stroke-width:2px"/></g></g></svg></div></a></div><div class=folder><a href=/about target=_self><div class=svg-container><div class=text>about</div><svg width="100%" height="100%" viewBox="0 0 62 39" xmlns="http://www.w3.org/2000/svg">style="fill-rule:evenodd;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:1.5;"><g transform="matrix(1,0,0,1,-430.298,-160.148)"><g transform="matrix(1,0,0,1,-1300.35,76.8871)"><path d="M1731.65 92.982s0-4.099.0-6.676C1731.65 85.763 1731.87 85.244 1732.25 84.86 1732.63 84.477 1733.15 84.261 1733.69 84.261c4.8599999999999.0 16.7.0 16.7.0L1756.75 88.872 1750.42 92.982h-18.77z" style="fill:#5c5c5c;stroke:#c2c2c2;stroke-width:2px"/></g><g transform="matrix(1,0,0,1,-1300.35,76.3854)"><path d="M1756.75 89.374 1750.42 93.483h-18.77v25.786C1731.65 119.8 1731.86 120.308 1732.24 120.683 1732.61 121.058 1733.12 121.269 1733.65 121.269 1742.75 121.269 1780.2 121.269 1789.3 121.269 1789.83 121.269 1790.34 121.058 1790.72 120.683 1791.09 120.308 1791.3 119.8 1791.3 119.269c0-5.727.0-22.147.0-27.873.0-1.104-.889999999999873-1.999-2-2C1781.94 89.391 1756.75 89.374 1756.75 89.374z" style="fill:none;stroke:#c2c2c2;stroke-width:2px"/></g></g></svg></div></a></div><div class=folder><a href=https://www.bing.com/ target=_blank><div class=svg-container><div class=text>help</div><svg width="100%" height="100%" viewBox="0 0 62 39" xmlns="http://www.w3.org/2000/svg">style="fill-rule:evenodd;clip-rule:evenodd;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:1.5;"><g transform="matrix(1,0,0,1,-430.298,-160.148)"><g transform="matrix(1,0,0,1,-1300.35,76.8871)"><path d="M1731.65 92.982s0-4.099.0-6.676C1731.65 85.763 1731.87 85.244 1732.25 84.86 1732.63 84.477 1733.15 84.261 1733.69 84.261c4.8599999999999.0 16.7.0 16.7.0L1756.75 88.872 1750.42 92.982h-18.77z" style="fill:#5c5c5c;stroke:#c2c2c2;stroke-width:2px"/></g><g transform="matrix(1,0,0,1,-1300.35,76.3854)"><path d="M1756.75 89.374 1750.42 93.483h-18.77v25.786C1731.65 119.8 1731.86 120.308 1732.24 120.683 1732.61 121.058 1733.12 121.269 1733.65 121.269 1742.75 121.269 1780.2 121.269 1789.3 121.269 1789.83 121.269 1790.34 121.058 1790.72 120.683 1791.09 120.308 1791.3 119.8 1791.3 119.269c0-5.727.0-22.147.0-27.873.0-1.104-.889999999999873-1.999-2-2C1781.94 89.391 1756.75 89.374 1756.75 89.374z" style="fill:none;stroke:#c2c2c2;stroke-width:2px"/></g></g></svg></div></a></div></div></div></header><div class=container><h2>Recurses</h2></div><div class=post-date><div class=container><p></p></div></div><div class=container><h1>DEFAULT LIST</h1><article><h2>RC 11 (fin)</h2><p>In the last few days, I&rsquo;ve gone from RC in Brooklyn to moving back to San Francisco to currently sitting on a plane to the Dominican Republic.</p><p>Recurse is over! It happened! What an excellent time.</p><p>I got a lot out of projects, reading, meet ups, interviewing and online courses. The study and research was varied and rewarding.</p><p>In the end, though, I got as much or more from being around the people at RC as the individual study. When friends and family would ask me why I chose RC over some other program, I would include in my explanation that RC seemed to &ldquo;produce incredibly bright and creative people that I want to emulate&rdquo;. This last week at RC, though, I realized that was poorly said - it isn&rsquo;t that RC <em>produces</em> good people. It <em>attracts</em> people that share a set of ideas about themselves and the world that strongly correlate with a variety of awesome outcomes. These ideas include:</p><ul><li>Learning and exploration is an act of continuing to become. There is no age or experience level or set of obstacles that prevents becoming.</li><li>Asking and reacting to questions is an art in itself. The right questions and answers are more conversational than transactional. All parties learn something without feeling like, at some point, they had to reiterate that despite the fact they are exploring unknown territory, they are still smart and worth talking to.</li><li>After a certain amount of research, trying shit out is paramount to understanding. Interactivity unlocks progress.</li><li>Computers are magic. Not because they can&rsquo;t be explained, but because of their endless power to engage and involve and generate experiences. Programmers are witches and wizards. It is important to wield the power with proper levels of respect and thoughtfulness.</li><li>Humans matter. Being kind and working to elevate one another is a prime directive.</li></ul><p>I am very lucky to have heard about RC via the internet, been taken in by its promise of productive self-driven learning, and to have had such a positive experience there.</p><p>Next steps for me include this vacation to the DR, finishing up various little loose ends from RC projects in January (including the nand2tetris OS), visiting family in Vancouver, then starting on the Workbench team of Domino Data Lab as a software engineer in February!</p></article><article><h2>RC 10 (work)</h2><a class=img-link target=_blank href=/img/work.png><figure><img style=max-width:60% src=/img/work.png alt=work.png><figcaption class=figcaption-text>'Chad, destroyer of worlds' - circa 2015</figcaption></figure></a><p>My second to last week at RC was first spent in San Francisco at onsite interviews for positions in the city. Interviews went well and I had a nice time seeing some friends while there.</p><p>Unfortunately, there wasn&rsquo;t enough time to finish the compiler of nand2tetris! The first week where I haven&rsquo;t finished my nand2tetris project :&rsquo;(. I&rsquo;m going to try my best to finish up both the compiler and OS this final week, though!</p><p>I was also focusing on finishing a take-home assignment from another interview process which definitely cut in to my time. As annoying and time consuming it is to generate contrived work to prove you&rsquo;re not lying on your resume, it was sort of fun to develop an application with a relational database and interactive web UI and make it feel smooth and look pretty. Link to the project is <a href=https://github.com/robinovitch61/impossible_app>here on github</a>.</p><p>RC is ending so soon! I&rsquo;m so mixed up about it. 12 weeks flies by, truly. Seeing everyone&rsquo;s demos last week reminded me of how awesome everyone is here and how many cool projects come out of this space. I&rsquo;ve been so fortunate to be a part of it, and I want to squeeze all I can out of my last week here.</p></article><article><h2>RC 09 (λεξικόν)</h2><p>In my third to last week of RC (!!!), I learned about Nix, Jest for Test Driven Development in Javascript, completed project 10 of nand2tetris, and continued interview prep.</p><p>Project 10 consists of the first half of the Jack compiler. The overall compiler is split in to tokenization + lexical analysis (project 10) and VM code generation (project 11).</p><p>The first half of the compiler was the most time consuming project of the course so far. It results in a compiler that doesn&rsquo;t yet produce any actual VM code - the output is a <code>.xml</code> file that visualizes the lexical tree for each <code>.jack</code> Jack class. This tree is determined by the language grammar, and demonstrates that the compiler correctly parses the structure of the grammar in a bug-free, recursive pass on the high-level code.</p><a class=img-link target=_blank href=/img/lexical_tree.png><figure><img style=max-width:80% src=/img/lexical_tree.png alt=lexical_tree.png><figcaption class=figcaption-text>Example Lexical Tree from the Elements of Computing Systems</figcaption></figure></a><p>The complete Jack language grammar is shown below. I spent a lot of time staring at it this week. Once I figured out how to structure the recursive calls to my <code>generate_tree</code> function, it became fun to build up the grammar and see how it all works out. Everything is greatly simplified due to things like lack of object inheretence, enforcement of prefix words like <code>do my_function()</code> rather than simply calling <code>my_function()</code> and other idiosyncracies and simplifications made in the design of the Jack language.</p><p><a class=img-link target=_blank href=/img/jack_grammar1.png><figure><img style=max-width:90% src=/img/jack_grammar1.png alt=jack_grammar1.png></figure></a><a class=img-link target=_blank href=/img/jack_grammar2.png><figure><img style=max-width:90% src=/img/jack_grammar2.png alt=jack_grammar2.png><figcaption class=figcaption-text>The Complete Grammar of the Jack Language</figcaption></figure></a></p><p>I paired almost every day with my friend and fellow recurser Waj on interview questions. It&rsquo;s really interesting seeing someone else think through a problem, and I&rsquo;ve learned so much from actively practicing together.</p><p>I&rsquo;m currently in JFK flying to SF for some interviews. Stoked. I also started some really great books this week:</p><ul><li><strong>Code: The Hidden Language of Computer Hardware and Software by Charles Petzold</strong>. It&rsquo;s like nand2tetris but in Novel and not Project form. I think it&rsquo;s incredibly approachable, interesting, and doesn&rsquo;t shy away from complexity and detail.</li><li><strong>Exhalation: Stories by Ted Chiang</strong>. This is the best short story book I&rsquo;ve picked up in a long time.</li></ul></article><article><h2>RC 08 (mooninites)</h2><a class=img-link target=_blank href=/img/mooninites.png><figure><img style=max-width:60% src=/img/mooninites.png alt=mooninites.png><figcaption class=figcaption-text>Aqua Teen Hunger Force's Mooninites</figcaption></figure></a><p>This week, I completed Nand2Tetris project 9, <a href=https://theleo.zone/posts/givewell-is-awesome/>wrote about Givewell</a>, and continued interview prep.</p><p>Nand2Tetris&rsquo; gets you used to programming in the high-level &ldquo;Jack&rdquo; programming language. It would be difficult (or at least, less meaningful) to write a compiler for a high level language that you don&rsquo;t really understand.</p><p>I found it useful in that it solidified the rules of Jack and allowed me to project my thoughts of what the compiler would be doing to translate Jack code to VM Code.</p><p>The &ldquo;game&rdquo; I wrote was just enough to feel like I understood the syntax of the language, and isn&rsquo;t really a game at all. I did make a Mooninite from Aqua Teen Hunger Force fire rockets in to a guys mouth, though! No winning or losing criteria were defined but it sure was fun.</p><a class=img-link target=_blank href=/img/mooninite_game.gif><figure><img style=max-width:90% src=/img/mooninite_game.gif alt=mooninite_game.gif></figure></a><p>Code for the game <a href=https://github.com/robinovitch61/nand2tetris/tree/master/projects/09/SpaceTetris>here</a>.</p></article><article><h2>RC 07 (fib 5 ways)</h2><p>Recurse continues!</p><p>Each successive number in the Fibonacci Sequence is the sum of the two prior numbers:</p><p class=centered>0, 1, 1, 2, 3, 5, 8, 13...</p><p>While learning about algorithms and doing nand2tetris, I&rsquo;ve come across the Fibonacci Sequence a number of times. Here are a 5 ways to calculate the Nth element of the sequence:</p><h2 id=method-1-recursion>Method 1: Recursion</h2><p>Recursion is when a function calls itself. Intuitively, it&rsquo;s a top down approach to problem solving. Say Charlie is wondering what the fourth number in the Fibonacci Sequence is. She might say, well, the fourth number is the second number plus the third number. The second number is 1 as the sequence starts with 1, 1. The third number is the first number plus the second number, both of which are 1, so the third number is 1 + 1 = 2. So the fourth number is 1 + 2 = 3!</p><p>The idea is to drill down until you get to the base cases (here, the first and second numbers), and then traverse up your nested logic back to the original question. In a computer, each recursive call adds a new &ldquo;frame&rdquo; to the working stack, where a frame includes function arguments, local variables, and relevant pointers that allow restoration of the previous frame. More on this later.</p><p>In python, recursively solving for the Nth Fibonacci Number looks as follows:</p><div class=highlight><div style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#408080;font-style:italic>## Recursive Fibbing</span>
</span></span><span style=display:flex><span><span style=color:green;font-weight:700>def</span> <span style=color:#00f>recursive_fib</span>(n):
</span></span><span style=display:flex><span><span style=color:green;font-weight:700>if</span> n <span style=color:#666>&lt;=</span> <span style=color:#666>0</span>:
</span></span><span style=display:flex><span>    <span style=color:green;font-weight:700>raise</span> <span style=color:#d2413a;font-weight:700>ValueError</span>(<span style=color:#ba2121>&#39;Fibonacci sequence starts at first number.&#39;</span>)
</span></span><span style=display:flex><span><span style=color:green;font-weight:700>elif</span> n <span style=color:#666>&lt;=</span> <span style=color:#666>2</span>:
</span></span><span style=display:flex><span>    <span style=color:green;font-weight:700>return</span> n<span style=color:#666>-</span><span style=color:#666>1</span> <span style=color:#408080;font-style:italic># first = 0, second = 1</span>
</span></span><span style=display:flex><span><span style=color:green;font-weight:700>else</span>:
</span></span><span style=display:flex><span>    <span style=color:green;font-weight:700>return</span> recursive_fib(n<span style=color:#666>-</span><span style=color:#666>2</span>) <span style=color:#666>+</span> recursive_fib(n<span style=color:#666>-</span><span style=color:#666>1</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic># Timing code included here for reference</span>
</span></span><span style=display:flex><span><span style=color:green;font-weight:700>from</span> <span style=color:#00f;font-weight:700>timeit</span> <span style=color:green;font-weight:700>import</span> timeit
</span></span><span style=display:flex><span>runs <span style=color:#666>=</span> <span style=color:#666>10000</span>
</span></span><span style=display:flex><span>time <span style=color:#666>=</span> timeit(
</span></span><span style=display:flex><span><span style=color:#ba2121>&#34;recursive_fib(10)&#34;</span>,
</span></span><span style=display:flex><span>setup<span style=color:#666>=</span><span style=color:#ba2121>&#34;from __main__ import recursive_fib&#34;</span>,
</span></span><span style=display:flex><span>number<span style=color:#666>=</span>runs)
</span></span><span style=display:flex><span><span style=color:green>print</span>(<span style=color:#ba2121>&#34;recursive_fib took average of </span><span style=color:#b68;font-weight:700>{:.2E}</span><span style=color:#ba2121>s across </span><span style=color:#b68;font-weight:700>{}</span><span style=color:#ba2121> runs&#34;</span>
</span></span><span style=display:flex><span><span style=color:#666>.</span>format(time<span style=color:#666>/</span>runs, runs))
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic># &gt;&gt; recursive_fib took average of 1.82E-05s across 10000 runs</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>recursive_fib(<span style=color:#666>10</span>)
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic># &gt;&gt; 34</span>
</span></span></code></pre></td></tr></table></div></div><p>Note that this gets realllly slow as time goes on, and it isn&rsquo;t very space efficient either. Each progressive call to the function adds a frame to the call stack that uses up some memory. Additionally, repeat operations occur - note how Fib(3) shows up twice in the tree below.</p><a class=img-link target=_blank href=/img/recursive_fib.png><figure><img style=max-width:60% src=/img/recursive_fib.png alt=recursive_fib.png><figcaption class=figcaption-text>Recursive Fibonacci 'touches' about $ \phi^{n} $ Nodes</figcaption></figure></a><p>In <a href=https://en.wikipedia.org/wiki/Big_O_notation>Big-O notation</a>, this algorithm is O(~2^n) in time and O(n) in space, both not ideal.</p><h2 id=method-2-dynamic-programming---top-down>Method 2: Dynamic Programming - Top Down</h2><p>This method, sometimes also called &ldquo;Memoization&rdquo;, confusingly references &ldquo;Dynamic Programming&rdquo;. Note that Dynamic Programming has nothing to do with the concept of a Dynamic Programming Language. Dynamic Programming is a method for solving complex problems by breaking them in to smaller sub problems and solving each of these problems once, storing the answer for possible reuse. A Dynamic Programming Language like Python or Javascript can execute code at <a href=https://en.wikipedia.org/wiki/Runtime_(program_lifecycle_phase)>runtime</a> that would require compilation in a Static Programming Language.</p><p>The simple improvement upon the purely recursive solution above is to save the results of each calculation. In doing so, recalculating prior results multiple times is avoided. The dictionary implementation in Python is a hashmap with constant time insertion and retrieval, so no time complexity is added by the use of a <code>dict</code> below:</p><div class=highlight><div style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#408080;font-style:italic>## Fibbing with Memoization</span>
</span></span><span style=display:flex><span><span style=color:green;font-weight:700>def</span> <span style=color:#00f>memo_fib</span>(n, memo<span style=color:#666>=</span><span style=color:green;font-weight:700>None</span>):
</span></span><span style=display:flex><span><span style=color:green;font-weight:700>if</span> memo <span style=color:#a2f;font-weight:700>is</span> <span style=color:green;font-weight:700>None</span>:
</span></span><span style=display:flex><span>    memo <span style=color:#666>=</span> {}
</span></span><span style=display:flex><span><span style=color:green;font-weight:700>if</span> n <span style=color:#666>&lt;=</span> <span style=color:#666>0</span>:
</span></span><span style=display:flex><span>    <span style=color:green;font-weight:700>raise</span> <span style=color:#d2413a;font-weight:700>ValueError</span>(<span style=color:#ba2121>&#39;Fibonacci sequence starts at first number.&#39;</span>)
</span></span><span style=display:flex><span><span style=color:green;font-weight:700>elif</span> n <span style=color:#666>&lt;=</span> <span style=color:#666>2</span>:
</span></span><span style=display:flex><span>    <span style=color:green;font-weight:700>return</span> n<span style=color:#666>-</span><span style=color:#666>1</span> <span style=color:#408080;font-style:italic># first = 0, second = 1</span>
</span></span><span style=display:flex><span><span style=color:green;font-weight:700>else</span>:
</span></span><span style=display:flex><span>    <span style=color:#408080;font-style:italic># check if already calculated result</span>
</span></span><span style=display:flex><span>    <span style=color:green;font-weight:700>if</span> n <span style=color:#a2f;font-weight:700>not</span> <span style=color:#a2f;font-weight:700>in</span> memo:
</span></span><span style=display:flex><span>        <span style=color:#408080;font-style:italic># function calls itself twice w/ same memo</span>
</span></span><span style=display:flex><span>        memo[n] <span style=color:#666>=</span> memo_fib(n<span style=color:#666>-</span><span style=color:#666>2</span>, memo) <span style=color:#666>+</span> memo_fib(n<span style=color:#666>-</span><span style=color:#666>1</span>, memo)
</span></span><span style=display:flex><span>    <span style=color:green;font-weight:700>return</span> memo[n]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic># Similar timing code to above produces:</span>
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic># &gt;&gt; memo_fib(10) took average of 5.04E-06s across 10000 runs</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>memo_fib(<span style=color:#666>10</span>)
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic># &gt;&gt; 34</span>
</span></span></code></pre></td></tr></table></div></div><p>As per the timing code, memoization produces a much faster calculation - other than the hashtable lookups, no duplicate computation is being done.</p><p>The time complexity is now O(n), with space complexity still at O(n) as the call stack and memo <code>dict</code> both have O(n) space.</p><h2 id=method-3-dynamic-programming---bottom-up>Method 3: Dynamic Programming - Bottom Up</h2><p>Another equivalent and sometimes more intuitive way to look at Dynamic Programming as a solution is to build a &ldquo;table&rdquo; of all the solutions to each little problem that must be solved along the way to solving the more complicated problem. This is sometimes called &ldquo;Tabulation&rdquo; In this case, the &ldquo;table&rdquo; could be a Python list that holds its <code>index+1</code>&lsquo;th Fibonacci number, e.g. the 1st Fibonacci number is at <code>table[0]</code>, 4th at <code>table[3]</code>, etc.</p><div class=highlight><div style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#408080;font-style:italic>## Fibbing with Tabulation</span>
</span></span><span style=display:flex><span><span style=color:green;font-weight:700>def</span> <span style=color:#00f>table_fib</span>(n):
</span></span><span style=display:flex><span><span style=color:green;font-weight:700>if</span> n <span style=color:#666>&lt;=</span> <span style=color:#666>0</span>:
</span></span><span style=display:flex><span>    <span style=color:green;font-weight:700>raise</span> <span style=color:#d2413a;font-weight:700>ValueError</span>(<span style=color:#ba2121>&#39;Fibonacci sequence starts at first number.&#39;</span>)
</span></span><span style=display:flex><span><span style=color:green;font-weight:700>elif</span> n <span style=color:#666>&lt;=</span> <span style=color:#666>2</span>:
</span></span><span style=display:flex><span>    <span style=color:green;font-weight:700>return</span> n<span style=color:#666>-</span><span style=color:#666>1</span> <span style=color:#408080;font-style:italic># first = 0, second = 1</span>
</span></span><span style=display:flex><span><span style=color:green;font-weight:700>else</span>:
</span></span><span style=display:flex><span>    table <span style=color:#666>=</span> [<span style=color:#666>0</span>, <span style=color:#666>1</span>] <span style=color:#666>+</span> [<span style=color:green;font-weight:700>None</span>]<span style=color:#666>*</span>(n<span style=color:#666>-</span><span style=color:#666>2</span>)
</span></span><span style=display:flex><span>    <span style=color:green;font-weight:700>for</span> idx <span style=color:#a2f;font-weight:700>in</span> <span style=color:green>range</span>(<span style=color:#666>2</span>, <span style=color:green>len</span>(table)):
</span></span><span style=display:flex><span>        table[idx] <span style=color:#666>=</span> table[idx<span style=color:#666>-</span><span style=color:#666>2</span>] <span style=color:#666>+</span> table[idx<span style=color:#666>-</span><span style=color:#666>1</span>]
</span></span><span style=display:flex><span>    <span style=color:green;font-weight:700>return</span> table[n<span style=color:#666>-</span><span style=color:#666>1</span>]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic># Similar timing code to above produces:</span>
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic># &gt;&gt; table_fib(10) took average of 2.18E-06s across 10000 runs</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>table_fib(<span style=color:#666>10</span>)
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic># &gt;&gt; 34</span>
</span></span></code></pre></td></tr></table></div></div><p>As discussed in the excellent post <a href=https://programming.guide/dynamic-programming-vs-memoization-vs-tabulation.html>here</a>, tabulation is best when each sub problem is to be solved only once, where memoization is best when not all subproblems have to be solved to get to the answer to the overarching question. Fibonacci is a case where all subproblems must be solved only once, so Tabulation is faster by a constant factor.</p><p>Both Tabulation and Memoization are O(n) in time and O(n) in space.</p><h2 id=method-4-iteration>Method 4: Iteration</h2><p>Note that the tabulation method is actually wasting space. If you were to solve for the n&rsquo;th Fibonacci number in your head, you&rsquo;d likely only keep track of 2 or 3 numbers at a time: &ldquo;0 plus 1 is 1, now 1 plus 1 is 2, now 1 plus 2 is 3&mldr;&rdquo;. Once you&rsquo;ve gotten the n&rsquo;th Fibonacci number there&rsquo;s no need to keep anything before the n-1&rsquo;th number around in memory! This method is called iteration:</p><div class=highlight><div style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#408080;font-style:italic>## Fibbing with Iteration</span>
</span></span><span style=display:flex><span><span style=color:green;font-weight:700>def</span> <span style=color:#00f>iter_fib</span>(n):
</span></span><span style=display:flex><span><span style=color:green;font-weight:700>if</span> n <span style=color:#666>&lt;=</span> <span style=color:#666>0</span>:
</span></span><span style=display:flex><span>    <span style=color:green;font-weight:700>raise</span> <span style=color:#d2413a;font-weight:700>ValueError</span>(<span style=color:#ba2121>&#39;Fibonacci sequence starts at first number.&#39;</span>)
</span></span><span style=display:flex><span><span style=color:green;font-weight:700>elif</span> n <span style=color:#666>&lt;=</span> <span style=color:#666>2</span>:
</span></span><span style=display:flex><span>    <span style=color:green;font-weight:700>return</span> n<span style=color:#666>-</span><span style=color:#666>1</span> <span style=color:#408080;font-style:italic># first = 0, second = 1</span>
</span></span><span style=display:flex><span><span style=color:green;font-weight:700>else</span>:
</span></span><span style=display:flex><span>    prevprev <span style=color:#666>=</span> <span style=color:#666>0</span>
</span></span><span style=display:flex><span>    new <span style=color:#666>=</span> <span style=color:#666>1</span>
</span></span><span style=display:flex><span>    <span style=color:green;font-weight:700>for</span> _ <span style=color:#a2f;font-weight:700>in</span> <span style=color:green>range</span>(<span style=color:#666>2</span>, n):
</span></span><span style=display:flex><span>        prev <span style=color:#666>=</span> new
</span></span><span style=display:flex><span>        new <span style=color:#666>=</span> prevprev <span style=color:#666>+</span> prev
</span></span><span style=display:flex><span>        prevprev <span style=color:#666>=</span> prev
</span></span><span style=display:flex><span>    <span style=color:green;font-weight:700>return</span> new
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic># Similar timing code to above produces:</span>
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic># &gt;&gt; iter_fib(10) took average of 1.13E-06s across 10000 runs</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>iter_fib(<span style=color:#666>10</span>)
</span></span><span style=display:flex><span><span style=color:#408080;font-style:italic># &gt;&gt; 34</span>
</span></span></code></pre></td></tr></table></div></div><p>This is as good as it gets: O(n) time and O(1) space.</p><h2 id=method-5-hack-computer-nand2tetris>Method 5: Hack Computer (Nand2Tetris)</h2><p>The Fibonacci sequence also came up in Nand2Tetris as a debugging program for my VM translator in Rust! While I can&rsquo;t show an easy example, it does serve to illustrate the idea for the VM Translator.</p><p>This is the &ldquo;Virtual Machine Code&rdquo; for a Fibonacci sequence. It is much like an <a href=https://theleo.zone/recurse/rc-06-intermediate-representations/>LLVM intermediate representation</a>, but in the virtual machine language created by the Nand2Tetris team.</p><div class=highlight><div style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">29
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">30
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">31
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">32
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">33
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">34
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">35
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">36
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">37
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">38
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">39
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">40
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">41
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">42
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">43
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">44
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">45
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">46
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">47
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">48
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>// Main.vm
</span></span><span style=display:flex><span>// This file is part of www.nand2tetris.org
</span></span><span style=display:flex><span>// and the book The Elements of Computing Systems
</span></span><span style=display:flex><span>// by Nisan and Schocken, MIT Press.
</span></span><span style=display:flex><span>// File name: projects/08/FunctionCalls/FibonacciElement/Main.vm
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>// Computes the nth element of the Fibonacci series, recursively.
</span></span><span style=display:flex><span>// n is given in argument<span style=color:#666>[</span>0<span style=color:#666>]</span>.  Called by the Sys.init <span style=color:green;font-weight:700>function</span> 
</span></span><span style=display:flex><span>// <span style=color:#666>(</span>part of the Sys.vm file<span style=color:#666>)</span>, which also pushes the argument<span style=color:#666>[</span>0<span style=color:#666>]</span> 
</span></span><span style=display:flex><span>// parameter before this code starts running.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:green;font-weight:700>function</span> Main.fibonacci <span style=color:#666>0</span>
</span></span><span style=display:flex><span>push argument <span style=color:#666>0</span>
</span></span><span style=display:flex><span>push constant <span style=color:#666>2</span>
</span></span><span style=display:flex><span>lt                     // checks <span style=color:green;font-weight:700>if</span> n&lt;<span style=color:#666>2</span>
</span></span><span style=display:flex><span><span style=color:green;font-weight:700>if</span>-goto IF_TRUE
</span></span><span style=display:flex><span>goto IF_FALSE
</span></span><span style=display:flex><span>label IF_TRUE          // <span style=color:green;font-weight:700>if</span> n&lt;2, <span style=color:green;font-weight:700>return</span> n
</span></span><span style=display:flex><span>push argument <span style=color:#666>0</span>        
</span></span><span style=display:flex><span><span style=color:green;font-weight:700>return</span>
</span></span><span style=display:flex><span>label IF_FALSE         // <span style=color:green;font-weight:700>if</span> n&gt;<span style=color:#666>=</span>2, returns fib<span style=color:#666>(</span>n-2<span style=color:#666>)</span>+fib<span style=color:#666>(</span>n-1<span style=color:#666>)</span>
</span></span><span style=display:flex><span>push argument <span style=color:#666>0</span>
</span></span><span style=display:flex><span>push constant <span style=color:#666>2</span>
</span></span><span style=display:flex><span>sub
</span></span><span style=display:flex><span>call Main.fibonacci <span style=color:#666>1</span>  // computes fib<span style=color:#666>(</span>n-2<span style=color:#666>)</span>
</span></span><span style=display:flex><span>push argument <span style=color:#666>0</span>
</span></span><span style=display:flex><span>push constant <span style=color:#666>1</span>
</span></span><span style=display:flex><span>sub
</span></span><span style=display:flex><span>call Main.fibonacci <span style=color:#666>1</span>  // computes fib<span style=color:#666>(</span>n-1<span style=color:#666>)</span>
</span></span><span style=display:flex><span>add                    // returns fib<span style=color:#666>(</span>n-1<span style=color:#666>)</span> + fib<span style=color:#666>(</span>n-2<span style=color:#666>)</span>
</span></span><span style=display:flex><span><span style=color:green;font-weight:700>return</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>// Sys.vm
</span></span><span style=display:flex><span>// This file is part of www.nand2tetris.org
</span></span><span style=display:flex><span>// and the book The Elements of Computing Systems
</span></span><span style=display:flex><span>// by Nisan and Schocken, MIT Press.
</span></span><span style=display:flex><span>// File name: projects/08/FunctionCalls/FibonacciElement/Sys.vm
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>// Pushes a constant, say n, onto the stack, and calls the Main.fibonacii
</span></span><span style=display:flex><span>// <span style=color:green;font-weight:700>function</span>, which computes the nth element of the Fibonacci series.
</span></span><span style=display:flex><span>// Note that by convention, the Sys.init <span style=color:green;font-weight:700>function</span> is called <span style=color:#ba2121>&#34;automatically&#34;</span> 
</span></span><span style=display:flex><span>// by the bootstrap code.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:green;font-weight:700>function</span> Sys.init <span style=color:#666>0</span>
</span></span><span style=display:flex><span>push constant <span style=color:#666>4</span>
</span></span><span style=display:flex><span>call Main.fibonacci <span style=color:#666>1</span>   // computes the 4<span>&#39;</span>th fibonacci element
</span></span><span style=display:flex><span>label WHILE
</span></span><span style=display:flex><span>goto WHILE              // loops infinitely
</span></span></code></pre></td></tr></table></div></div><p>My VM translator <a href=https://github.com/robinovitch61/nand2tetris/blob/master/projects/08/p08/src/main.rs>here</a> creates a bunch of Hack Computer-specific assembly code (~500 lines) from this that look like this:</p><div class=highlight><div style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">29
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">30
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">31
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">32
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">33
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">34
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">35
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">36
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">37
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">38
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">39
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">40
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">41
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">42
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">43
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">44
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">45
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">46
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">47
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">48
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">49
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">50
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">51
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">52
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">53
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">54
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">55
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">56
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">57
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">58
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">59
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">60
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">61
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">62
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">63
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">64
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">65
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">66
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">67
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">68
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">69
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">70
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">71
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">72
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">73
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">74
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">75
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">76
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">77
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">78
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">79
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">80
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>// Bootstrap
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>@256
</span></span><span style=display:flex><span><span style=color:#19177c>D</span><span style=color:#666>=</span>A
</span></span><span style=display:flex><span>@SP
</span></span><span style=display:flex><span><span style=color:#19177c>M</span><span style=color:#666>=</span>D
</span></span><span style=display:flex><span>// call Sys.init <span style=color:#666>0</span>
</span></span><span style=display:flex><span>// push <span style=color:green;font-weight:700>return</span>-address
</span></span><span style=display:flex><span>@return-address0
</span></span><span style=display:flex><span><span style=color:#19177c>D</span><span style=color:#666>=</span>A
</span></span><span style=display:flex><span>@SP
</span></span><span style=display:flex><span><span style=color:#19177c>A</span><span style=color:#666>=</span>M
</span></span><span style=display:flex><span><span style=color:#19177c>M</span><span style=color:#666>=</span>D
</span></span><span style=display:flex><span>@SP
</span></span><span style=display:flex><span><span style=color:#19177c>M</span><span style=color:#666>=</span>M+1
</span></span><span style=display:flex><span>// push LCL
</span></span><span style=display:flex><span>@LCL
</span></span><span style=display:flex><span><span style=color:#19177c>D</span><span style=color:#666>=</span>M
</span></span><span style=display:flex><span>@SP
</span></span><span style=display:flex><span><span style=color:#19177c>A</span><span style=color:#666>=</span>M
</span></span><span style=display:flex><span><span style=color:#19177c>M</span><span style=color:#666>=</span>D
</span></span><span style=display:flex><span>@SP
</span></span><span style=display:flex><span><span style=color:#19177c>M</span><span style=color:#666>=</span>M+1
</span></span><span style=display:flex><span>// push ARG
</span></span><span style=display:flex><span>@ARG
</span></span><span style=display:flex><span><span style=color:#19177c>D</span><span style=color:#666>=</span>M
</span></span><span style=display:flex><span>@SP
</span></span><span style=display:flex><span><span style=color:#19177c>A</span><span style=color:#666>=</span>M
</span></span><span style=display:flex><span><span style=color:#19177c>M</span><span style=color:#666>=</span>D
</span></span><span style=display:flex><span>@SP
</span></span><span style=display:flex><span><span style=color:#19177c>M</span><span style=color:#666>=</span>M+1
</span></span><span style=display:flex><span>// push THIS
</span></span><span style=display:flex><span>@THIS
</span></span><span style=display:flex><span><span style=color:#19177c>D</span><span style=color:#666>=</span>M
</span></span><span style=display:flex><span>@SP
</span></span><span style=display:flex><span><span style=color:#19177c>A</span><span style=color:#666>=</span>M
</span></span><span style=display:flex><span><span style=color:#19177c>M</span><span style=color:#666>=</span>D
</span></span><span style=display:flex><span>@SP
</span></span><span style=display:flex><span><span style=color:#19177c>M</span><span style=color:#666>=</span>M+1
</span></span><span style=display:flex><span>// push THAT
</span></span><span style=display:flex><span>@THAT
</span></span><span style=display:flex><span><span style=color:#19177c>D</span><span style=color:#666>=</span>M
</span></span><span style=display:flex><span>@SP
</span></span><span style=display:flex><span><span style=color:#19177c>A</span><span style=color:#666>=</span>M
</span></span><span style=display:flex><span><span style=color:#19177c>M</span><span style=color:#666>=</span>D
</span></span><span style=display:flex><span>@SP
</span></span><span style=display:flex><span><span style=color:#19177c>M</span><span style=color:#666>=</span>M+1
</span></span><span style=display:flex><span>// <span style=color:#19177c>ARG</span> <span style=color:#666>=</span> SP - n - <span style=color:#666>5</span>
</span></span><span style=display:flex><span>@SP
</span></span><span style=display:flex><span><span style=color:#19177c>D</span><span style=color:#666>=</span>M
</span></span><span style=display:flex><span>@0
</span></span><span style=display:flex><span><span style=color:#19177c>D</span><span style=color:#666>=</span>D-A
</span></span><span style=display:flex><span>@5
</span></span><span style=display:flex><span><span style=color:#19177c>D</span><span style=color:#666>=</span>D-A
</span></span><span style=display:flex><span>@ARG
</span></span><span style=display:flex><span><span style=color:#19177c>M</span><span style=color:#666>=</span>D
</span></span><span style=display:flex><span>// <span style=color:#19177c>LCL</span> <span style=color:#666>=</span> SP
</span></span><span style=display:flex><span>@SP
</span></span><span style=display:flex><span><span style=color:#19177c>D</span><span style=color:#666>=</span>M
</span></span><span style=display:flex><span>@LCL
</span></span><span style=display:flex><span><span style=color:#19177c>M</span><span style=color:#666>=</span>D
</span></span><span style=display:flex><span>// goto f
</span></span><span style=display:flex><span>@Sys.init
</span></span><span style=display:flex><span>0;JMP
</span></span><span style=display:flex><span>// <span style=color:green>declare</span> <span style=color:#666>(</span><span style=color:green;font-weight:700>return</span>-address<span style=color:#666>)</span>
</span></span><span style=display:flex><span><span style=color:#666>(</span><span style=color:green;font-weight:700>return</span>-address0<span style=color:#666>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>// ../FunctionCalls/FibonacciElement/Main.vm
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>// <span style=color:green;font-weight:700>function</span> Main.fibonacci <span style=color:#666>0</span>
</span></span><span style=display:flex><span><span style=color:#666>(</span>Main.fibonacci<span style=color:#666>)</span>
</span></span><span style=display:flex><span>// push argument <span style=color:#666>0</span>
</span></span><span style=display:flex><span>@0
</span></span><span style=display:flex><span><span style=color:#19177c>D</span><span style=color:#666>=</span>A
</span></span><span style=display:flex><span>@ARG
</span></span><span style=display:flex><span><span style=color:#19177c>A</span><span style=color:#666>=</span>M
</span></span><span style=display:flex><span><span style=color:#19177c>A</span><span style=color:#666>=</span>A+D
</span></span><span style=display:flex><span><span style=color:#19177c>D</span><span style=color:#666>=</span>M
</span></span><span style=display:flex><span>@SP
</span></span><span style=display:flex><span>etc.
</span></span></code></pre></td></tr></table></div></div><p>Which then assembles down to the actual machine code using the assembler I wrote <a href=https://github.com/robinovitch61/nand2tetris/blob/master/projects/06/p06/src/main.rs>here</a>:</p><div class=highlight><div style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">29
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">30
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">31
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">32
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">33
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">34
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">35
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">36
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">37
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#666>0000000100000000</span> // this is @256
</span></span><span style=display:flex><span><span style=color:#666>1110110000010000</span> // this is <span style=color:#19177c>D</span><span style=color:#666>=</span>A
</span></span><span style=display:flex><span><span style=color:#666>0000000000000000</span> // etc.
</span></span><span style=display:flex><span><span style=color:#666>1110001100001000</span>
</span></span><span style=display:flex><span><span style=color:#666>0000000000110101</span>
</span></span><span style=display:flex><span><span style=color:#666>1110110000010000</span>
</span></span><span style=display:flex><span><span style=color:#666>0000000000000000</span>
</span></span><span style=display:flex><span><span style=color:#666>1111110000100000</span>
</span></span><span style=display:flex><span><span style=color:#666>1110001100001000</span>
</span></span><span style=display:flex><span><span style=color:#666>0000000000000000</span>
</span></span><span style=display:flex><span><span style=color:#666>1111110111001000</span>
</span></span><span style=display:flex><span><span style=color:#666>0000000000000001</span>
</span></span><span style=display:flex><span><span style=color:#666>1111110000010000</span>
</span></span><span style=display:flex><span><span style=color:#666>0000000000000000</span>
</span></span><span style=display:flex><span><span style=color:#666>1111110000100000</span>
</span></span><span style=display:flex><span><span style=color:#666>1110001100001000</span>
</span></span><span style=display:flex><span><span style=color:#666>0000000000000000</span>
</span></span><span style=display:flex><span><span style=color:#666>1111110111001000</span>
</span></span><span style=display:flex><span><span style=color:#666>0000000000000010</span>
</span></span><span style=display:flex><span><span style=color:#666>1111110000010000</span>
</span></span><span style=display:flex><span><span style=color:#666>0000000000000000</span>
</span></span><span style=display:flex><span><span style=color:#666>1111110000100000</span>
</span></span><span style=display:flex><span><span style=color:#666>1110001100001000</span>
</span></span><span style=display:flex><span><span style=color:#666>0000000000000000</span>
</span></span><span style=display:flex><span><span style=color:#666>1111110111001000</span>
</span></span><span style=display:flex><span><span style=color:#666>0000000000000011</span>
</span></span><span style=display:flex><span><span style=color:#666>1111110000010000</span>
</span></span><span style=display:flex><span><span style=color:#666>0000000000000000</span>
</span></span><span style=display:flex><span><span style=color:#666>1111110000100000</span>
</span></span><span style=display:flex><span><span style=color:#666>1110001100001000</span>
</span></span><span style=display:flex><span><span style=color:#666>0000000000000000</span>
</span></span><span style=display:flex><span><span style=color:#666>1111110111001000</span>
</span></span><span style=display:flex><span><span style=color:#666>0000000000000100</span>
</span></span><span style=display:flex><span><span style=color:#666>1111110000010000</span>
</span></span><span style=display:flex><span><span style=color:#666>0000000000000000</span>
</span></span><span style=display:flex><span><span style=color:#666>1111110000100000</span>
</span></span><span style=display:flex><span>etc.
</span></span></code></pre></td></tr></table></div></div><p>So there it is. The fifth method - write your recursive Fibonacci code in VM Code and assemble for the hack computer :)!</p></article><article><h2>RC 06 (intermediate representations)</h2><p>I wrapped up Nand2Tetris project 6 and completed project 7 this week. One satisfying thing about this course has been consistently connecting the &ldquo;simple&rdquo; implementations that the course outlines to the hyper complex implementations in the real world.</p><p>Project 7 outlined the idea of multi-stage compilation. Take a high level language and compile it to a &ldquo;Virtual Machine Code&rdquo;, with readable but lower level syntax. This &ldquo;intermediate representation&rdquo; can then be compiled further through assembly to machine code (the 1s and 0s) for a specific hardware platform (e.g. MacOS x86-64). Writing a compiler that does things in a few steps like this (high level programming language -> VM code -> assembly -> machine code) allows parts of the compiler to stay the same across hardware platforms!</p><p>For example, there is some program written in Rust. <a href=https://doc.rust-lang.org/rustc/what-is-rustc.html>The rustc compiler</a> will take it through multiple compilation steps (more than the simplified version outlined by nand2tetris above), only the lower levels of which deal with the specifics of the hardware platform. On the way to machine code, Rust compiles to LLVM IR (low-level virtual machine intermediate representation), which is analogous to the VM code outlined in nand2tetris.</p><a class=img-link target=_blank href=/img/rust_compilation.png><figure><img style=max-width:30% src=/img/rust_compilation.png alt=rust_compilation.png><figcaption class=figcaption-text>Source: <a href=https://blog.rust-lang.org/2016/04/19/MIR.html>https://blog.rust-lang.org/2016/04/19/MIR.html</a></figcaption></figure></a><p>Facilitated by this multi-step approach, <a href=https://github.com/japaric/rust-cross>cross compilation</a> is supported, where code is compiled for a hardware platform different than the one the compiler runs on.</p><p>Project 7 and 8 involve writing the VM code translator (VM code -> assembly for the hack computer). I wrote it in Rust. So my VM code translator is itself compiled in to an analogous intermediate representation before becoming machine code on my Mac. This compiled Rust program is then used to translate another intermediate representation (VM code) to assembly for a non-physical hardware platform (hack)! Wild stuff.</p><p>Other than Nand2Tetris, I continued with interview prep stuff, implementing linked lists, tries, and hash tables from scratch and grinding away at Leetcode style problems. I feel very conflicted by the whole software interview process. Interviewing at Tesla, I was asked highly specific questions about mechanical design (what are the considerations in designing this bolted joint, estimate the pressure in a scuba diver&rsquo;s tank, etc.). I did quite well at these since I took MechE for 5 years in school. But i the end, I did no Mechanical Design during my 2 years at Tesla, primarily contributing through applications of software and data. Similarly, algorithm and system design questions may not be the best indicator of my future job performance. Nonetheless, it&rsquo;s part of the game, and I&rsquo;ll continue the grind, learning along the way!</p><p>I would highly recommend <a href=https://just-taking-a-ride.com/inside_python_dict>this explorable explanation of python dictionaries</a>. Not only does it give a great picture at what python is actually doing under the hood for its <code>dict</code> built in data structure, but it teaches hash tables, collision resolution, and a number of interesting other concepts in four digestable chapters. This sort of teaching resource is so impressive and effective.</p></article><article><h2>RC 05 (your biggest weakness)</h2><p><a href=https://80000hours.org/key-ideas/>80,000 Hours</a> is a non-profit that researches the world&rsquo;s most pressing problems and provides guidance on how to make an impact on them with your career. Apart from the whole &ldquo;saving the world&rdquo; focus, what I love about their basic premise is that <em>your career matters</em>.</p><p>Not only does it matter to you, who will be the one living it out every day and week and month for approximately 80,000 hours, but it matters to the world what you do. The world will be affected by our existence. We can choose how we effect it - did we make some company money serving ads, or did we meaningfully contribute to improving wellbeing in our world?</p><a class=img-link target=_blank href=/img/shareholders.png><figure><img style=max-width:70% src=/img/shareholders.png alt=shareholders.png><figcaption class=figcaption-text>Source: <a href=http://tomtoro.com/>http://tomtoro.com/</a></figcaption></figure></a><p>All this to say, it&rsquo;s important that each of us spend a lot of time thinking about who and what we&rsquo;re working for. This thought process prominently plays out during the interview process, when we actually have to decide between competing priorities. How much do we care about impact, culture, money, balance, benefits, and location? These decisions get made by and for us during the interview process.</p><p>Why RC is the best place to go through an interview process:</p><ul><li>Access to a full-time support staff with your best interests in mind and connections to many awesome partner companies</li><li>Time allocation is super flexible</li><li>A large peer community that is going through similar stresses and thought processes about employment</li><li>24/7 sound-proof rooms to have phone/video calls</li></ul><p>Why RC is the worst place to go through an interview process:</p><ul><li>INTERVIEW PROCESSES CUT IN TO THE 12 SHORT WEEKS AVAILABLE TO LEARN COOL AND
INTERESTING THINGS!!!</li></ul><p>All this to say that I spent much of last week preparing for interviews and doing interviews. This took precedence over project 6 of Nand2Tetris and various other projects I had on the go.</p><p>Luckily, I was able to learn much about bitwise puzzles and <a href=https://theleo.zone/posts/concurrency-in-python/>concurrency in Python</a> while studying for interviews.</p></article><article><h2>RC 04 (all the wrong type)</h2><p>This week, the hack computer&rsquo;s hardware was completed with project 5 of
Nand2Tetris! I decided to write the remaining software portion of the course
(projects 6-12) in Rust, feeding two birds with one scone.</p><a class=img-link target=_blank href=/img/mandel.png><figure><img style=max-width:95% src=/img/mandel.png alt=mandel.png><figcaption class=figcaption-text>The Mandelbrot set with Rust</figcaption><figcaption class=figcaption-text>Source: <a href=http://downloads.codecoding.com/rust/Programming%20Rust.pdf>http://downloads.codecoding.com/rust/Programming%20Rust.pdf</a></figcaption></figure></a><p>While I started learning Rust with the <a href=http://downloads.codecoding.com/rust/Programming%20Rust.pdf>the O&rsquo;Reilly Book</a>, I&rsquo;ve found <a href=https://doc.rust-lang.org/book/>The Rust Programming Language</a> and <a href=https://github.com/rust-lang/rustlings>Rustlings</a> to be great resources as well. It was also incredibly helpful when Evan installed Rust Language Server (RLS) in my VSCode environment, making it easy to view source code and highlighting errors before compile time. This had to have increased the learning rate 3x or so. Rust is incredibly strict in comparison to the dynamic programming that I&rsquo;m used to. This quote sums it up and keeps me going:</p><blockquote><p>I’ve found that Rust has forced me to learn many of the things that I was slowly learning as ‘good practice’ in C/C++ before I could even compile my code. &mldr;I want to stress that Rust isn’t the kind of language you can learn in a couple days and just deal with the hard/technical/good-practice stuff later. You will be forced to learn strict safety immediately and it will probably feel uncomfortable at first. However in my own experience, this has led me towards feeling like compiling my code actually means something to me again. —Mitchell Nordine</p></blockquote><p>Rust will be the first language I program in that is:</p><ul><li>Compiled rather than interpreted</li><li>Statically typed (compiler enforces specifying types unless they can be inferred)</li><li>Memory-explicit in a real way, with concepts of ownership, references, and mutability very explicit</li></ul><p>Despite banging my head against this new language in frustration and being disproportionately happy when anything works at all, I&rsquo;m super psyched to stick with it and finish Nand2Tetris in Rust.</p><p>I also finished a <a href=https://theleo.zone/posts/statistical-bias/>post on statistical bias</a>. Going through these &ldquo;rudimentary&rdquo; ideas in detail like <a href=https://theleo.zone/posts/linear-regression/>linear regression and bias</a> has been incredibly satisfying. Even though they&rsquo;re fundamental ideas, going through the proofs in detail has been super informative - they very quickly get in to quite complex matrix calculus and linear algebra. It is more clear now why undergraduate engineering sort of skims over the proofs and gives you the final formulas&mldr;</p><p>The job search continues to slowly creep in to my daily concerns. It will likely be a rollercoaster of hope, hard decisions, and rejection. I am prioritizing companies who have missions I can deeply align with first and foremost. Interview prep is on the horizon&mldr;</p></article><article><h2>RC 03 (regressing linearly)</h2><p>This week, I completed project 4 of Nand2Tetris, updated my resume and converted it to <a href=/resume.html>a responsive web page</a>, and learned a <a href=https://theleo.zone/posts/linear-regression/>whole lot about linear regression</a>.</p><p>Nand2Tetris project 4 breaks away from the Hardware Description Language of the first three projects and moves in to a pseudo assembly code. This assembly language is specifically written for the &ldquo;Hack&rdquo; computer that the class builds up through the first six projects. Writing in &ldquo;assembly&rdquo; is one step down from writing in something like C - there is no automatic memory management, only a couple registers to play with, lots of referencing addresses with pointers and semi-roundabout ways of doing things.</p><p>It is super cool to see how assembly actually translates directly to binary to operate at the hardware level. I&rsquo;ve included my solution to &ldquo;making a screen black if a key is pushed and white if no key is pushed&rdquo; at the bottom of this post. I&rsquo;m looking forward to finishing the Hack computer and the first half of the course (!) over the next couple weeks.</p><a class=img-link target=_blank href=/img/project4.gif><figure><img style=max-width:95% src=/img/project4.gif alt=project4.gif><figcaption class=figcaption-text>Push button, screen goes black</figcaption></figure></a><p>The resume update was necessary and a fun application of my responsive web dev Scrimba course. I&rsquo;m continuing to slowly work through that and have found it very clear and satisfying. Fall 1&rsquo;ers are ramping up their interview frequencies and proportion of time dedicated towards the job hunt. It makes me nervous and excited for the last month of my time at Recurse where I&rsquo;ll probably be doing the same.</p><p>After last week&rsquo;s frustration with the statistics textbook, I decided to slow down and zoom in on linear regression. While it&rsquo;s an &ldquo;introductory&rdquo; modeling technique in practice, I&rsquo;ve never fully understood the underpinings of it! I&rsquo;m realizing you truly can&rsquo;t understand the foundation of linear regression without understanding a TON of foundational statistics. Additionally, many models can be seen as direct or indirect extensions of linear regression, making it a good thing to start with. It has been a very good exercise to go through everything thoroughly and summarize it in a <a href=https://theleo.zone/posts/linear-regression/>big ol&rsquo; plog bost</a>, which I will continue to update as I delve deeper into the topic.</p><p>I hope to write more actual code next week and keep the learning rolling.</p><div class=highlight><div style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">  9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 13
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 14
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 15
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 16
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 17
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 18
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 19
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 20
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 21
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 22
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 23
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 24
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 25
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 26
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 27
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 28
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 29
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 30
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 31
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 32
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 33
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 34
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 35
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 36
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 37
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 38
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 39
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 40
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 41
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 42
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 43
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 44
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 45
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 46
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 47
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 48
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 49
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 50
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 51
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 52
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 53
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 54
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 55
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 56
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 57
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 58
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 59
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 60
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 61
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 62
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 63
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 64
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 65
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 66
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 67
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 68
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 69
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 70
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 71
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 72
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 73
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 74
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 75
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 76
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 77
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 78
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 79
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 80
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 81
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 82
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 83
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 84
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 85
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 86
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 87
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 88
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 89
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 90
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 91
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 92
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 93
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 94
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 95
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 96
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 97
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 98
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 99
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">100
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">101
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">102
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">103
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">104
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">105
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">106
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">107
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">108
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">109
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">110
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">111
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">112
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">113
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">114
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">115
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">116
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">117
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">118
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">119
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">120
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">121
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">122
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">123
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">124
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">125
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">126
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">127
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">128
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">129
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">130
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">131
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">132
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">133
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">134
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">135
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">136
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">137
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">138
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">139
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">140
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">141
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">142
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">143
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">144
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">145
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">146
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">147
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">148
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">149
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">150
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">151
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">152
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">153
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">154
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">155
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">156
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">157
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">158
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">159
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">160
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">161
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">162
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">163
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">164
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">165
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">166
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">167
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">168
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">169
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">170
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">171
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">172
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">173
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">174
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">175
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">176
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">177
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">178
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">179
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">180
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">181
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">182
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">183
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">184
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>// This file is part of www.nand2tetris.org
</span></span><span style=display:flex><span>// and the book <span style=color:#ba2121>&#34;The Elements of Computing Systems&#34;</span>
</span></span><span style=display:flex><span>// by Nisan and Schocken, MIT Press.
</span></span><span style=display:flex><span>// File name: projects/04/Fill.asm
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>// Runs an infinite loop that listens to the keyboard input.
</span></span><span style=display:flex><span>// When a key is pressed <span style=color:#666>(</span>any key<span style=color:#666>)</span>, the program blackens the screen,
</span></span><span style=display:flex><span>// i.e. writes <span style=color:#ba2121>&#34;black&#34;</span> in every pixel;
</span></span><span style=display:flex><span>// the screen should remain fully black as long as the key is pressed. 
</span></span><span style=display:flex><span>// When no key is pressed, the program clears the screen, i.e. writes
</span></span><span style=display:flex><span>// <span style=color:#ba2121>&#34;white&#34;</span> in every pixel;
</span></span><span style=display:flex><span>// the screen should remain fully clear as long as no key is pressed.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>// Put your code here.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>// *********
</span></span><span style=display:flex><span>// VARIABLES
</span></span><span style=display:flex><span>// *********
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>@512
</span></span><span style=display:flex><span><span style=color:#19177c>D</span><span style=color:#666>=</span>A
</span></span><span style=display:flex><span>@bitswidth
</span></span><span style=display:flex><span><span style=color:#19177c>M</span><span style=color:#666>=</span>D // screen width in bits
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>@255
</span></span><span style=display:flex><span><span style=color:#19177c>D</span><span style=color:#666>=</span>A
</span></span><span style=display:flex><span>@bitsheight
</span></span><span style=display:flex><span><span style=color:#19177c>M</span><span style=color:#666>=</span>D // screen height in bits
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>@16
</span></span><span style=display:flex><span><span style=color:#19177c>D</span><span style=color:#666>=</span>A
</span></span><span style=display:flex><span>@bitsperword
</span></span><span style=display:flex><span><span style=color:#19177c>M</span><span style=color:#666>=</span>D // word width in bits
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>// words per screen, i.e. 512*255/16
</span></span><span style=display:flex><span>@totalwords
</span></span><span style=display:flex><span><span style=color:#19177c>M</span><span style=color:#666>=</span><span style=color:#666>0</span>
</span></span><span style=display:flex><span>@heightcovered
</span></span><span style=display:flex><span><span style=color:#19177c>M</span><span style=color:#666>=</span><span style=color:#666>0</span>
</span></span><span style=display:flex><span><span style=color:#666>(</span>MOREROWS<span style=color:#666>)</span>
</span></span><span style=display:flex><span>@widthcovered
</span></span><span style=display:flex><span><span style=color:#19177c>M</span><span style=color:#666>=</span><span style=color:#666>0</span>
</span></span><span style=display:flex><span><span style=color:#666>(</span>MOREWORDS<span style=color:#666>)</span>
</span></span><span style=display:flex><span>    // increment totalwords, widthcovered
</span></span><span style=display:flex><span>    @totalwords
</span></span><span style=display:flex><span>    <span style=color:#19177c>M</span><span style=color:#666>=</span>M+1
</span></span><span style=display:flex><span>    @bitsperword
</span></span><span style=display:flex><span>    <span style=color:#19177c>D</span><span style=color:#666>=</span>M
</span></span><span style=display:flex><span>    @widthcovered
</span></span><span style=display:flex><span>    <span style=color:#19177c>M</span><span style=color:#666>=</span>M+D
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    // <span style=color:green;font-weight:700>if</span> not entire width covered, MORE WORDS
</span></span><span style=display:flex><span>    @widthcovered
</span></span><span style=display:flex><span>    <span style=color:#19177c>D</span><span style=color:#666>=</span>M
</span></span><span style=display:flex><span>    @bitswidth
</span></span><span style=display:flex><span>    <span style=color:#19177c>D</span><span style=color:#666>=</span>M-D
</span></span><span style=display:flex><span>    @MOREWORDS
</span></span><span style=display:flex><span>    D;JGT
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>// increment heightcovered
</span></span><span style=display:flex><span>@heightcovered
</span></span><span style=display:flex><span><span style=color:#19177c>M</span><span style=color:#666>=</span>M+1
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>// <span style=color:green;font-weight:700>if</span> note entire height covered, MORE ROWS
</span></span><span style=display:flex><span>@heightcovered
</span></span><span style=display:flex><span><span style=color:#19177c>D</span><span style=color:#666>=</span>M
</span></span><span style=display:flex><span>@bitsheight
</span></span><span style=display:flex><span><span style=color:#19177c>D</span><span style=color:#666>=</span>M-D
</span></span><span style=display:flex><span>@MOREROWS
</span></span><span style=display:flex><span>D;JGT
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>// address of end of screen
</span></span><span style=display:flex><span>@SCREEN
</span></span><span style=display:flex><span><span style=color:#19177c>D</span><span style=color:#666>=</span>A
</span></span><span style=display:flex><span>@totalwords
</span></span><span style=display:flex><span><span style=color:#19177c>D</span><span style=color:#666>=</span>D+M
</span></span><span style=display:flex><span>@scrend
</span></span><span style=display:flex><span><span style=color:#19177c>M</span><span style=color:#666>=</span>D
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>@iswhite
</span></span><span style=display:flex><span><span style=color:#19177c>M</span><span style=color:#666>=</span><span style=color:#666>1</span> // <span style=color:green;font-weight:700>if</span> &gt;0, screen white. <span style=color:green;font-weight:700>if</span> 0, screen black. 
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>// *****
</span></span><span style=display:flex><span>// LOOPS
</span></span><span style=display:flex><span>// *****
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#666>(</span>KEYUP<span style=color:#666>)</span>
</span></span><span style=display:flex><span>// <span style=color:green;font-weight:700>if</span> current keyboard value non-zero, jump to KEYDOWN
</span></span><span style=display:flex><span>@KBD
</span></span><span style=display:flex><span><span style=color:#19177c>D</span><span style=color:#666>=</span>M
</span></span><span style=display:flex><span>@KEYDOWN
</span></span><span style=display:flex><span>D;JNE
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>// <span style=color:green;font-weight:700>if</span> black, paint white
</span></span><span style=display:flex><span>@iswhite
</span></span><span style=display:flex><span><span style=color:#19177c>D</span><span style=color:#666>=</span>M
</span></span><span style=display:flex><span>@MAKEWHITE
</span></span><span style=display:flex><span>D;JEQ
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>// keep listening
</span></span><span style=display:flex><span>@KEYUP
</span></span><span style=display:flex><span>0;JMP
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#666>(</span>KEYDOWN<span style=color:#666>)</span>
</span></span><span style=display:flex><span>// <span style=color:green;font-weight:700>if</span> current keyboard value zero, jump to KEYUP
</span></span><span style=display:flex><span>@KBD
</span></span><span style=display:flex><span><span style=color:#19177c>D</span><span style=color:#666>=</span>M
</span></span><span style=display:flex><span>@KEYUP
</span></span><span style=display:flex><span>D;JEQ
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>// <span style=color:green;font-weight:700>if</span> white, paint black
</span></span><span style=display:flex><span>@iswhite
</span></span><span style=display:flex><span><span style=color:#19177c>D</span><span style=color:#666>=</span>M
</span></span><span style=display:flex><span>@MAKEBLACK
</span></span><span style=display:flex><span>D;JGT
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>// keep listening
</span></span><span style=display:flex><span>@KEYDOWN
</span></span><span style=display:flex><span>0;JMP
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#666>(</span>MAKEWHITE<span style=color:#666>)</span>
</span></span><span style=display:flex><span>@paintword
</span></span><span style=display:flex><span><span style=color:#19177c>M</span><span style=color:#666>=</span><span style=color:#666>0</span>
</span></span><span style=display:flex><span>@PAINTSCREEN
</span></span><span style=display:flex><span>0;JMP
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#666>(</span>PAINTEDWHITE<span style=color:#666>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>// flag screen as white
</span></span><span style=display:flex><span>@iswhite
</span></span><span style=display:flex><span><span style=color:#19177c>M</span><span style=color:#666>=</span><span style=color:#666>1</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>// go back to keyup loop
</span></span><span style=display:flex><span>@KEYUP
</span></span><span style=display:flex><span>0;JMP
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#666>(</span>MAKEBLACK<span style=color:#666>)</span>
</span></span><span style=display:flex><span>@paintword
</span></span><span style=display:flex><span><span style=color:#19177c>M</span><span style=color:#666>=</span>-1
</span></span><span style=display:flex><span>@PAINTSCREEN
</span></span><span style=display:flex><span>0;JMP
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#666>(</span>PAINTEDBLACK<span style=color:#666>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>// flag screen as black
</span></span><span style=display:flex><span>@iswhite
</span></span><span style=display:flex><span><span style=color:#19177c>M</span><span style=color:#666>=</span><span style=color:#666>0</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>// go back to keydown loop
</span></span><span style=display:flex><span>@KEYDOWN
</span></span><span style=display:flex><span>0;JMP
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#666>(</span>PAINTSCREEN<span style=color:#666>)</span>
</span></span><span style=display:flex><span>// paint screen
</span></span><span style=display:flex><span>@SCREEN
</span></span><span style=display:flex><span><span style=color:#19177c>D</span><span style=color:#666>=</span>A
</span></span><span style=display:flex><span>@scraddr
</span></span><span style=display:flex><span><span style=color:#19177c>M</span><span style=color:#666>=</span>D
</span></span><span style=display:flex><span><span style=color:#666>(</span>KEEPPAINTING<span style=color:#666>)</span>
</span></span><span style=display:flex><span>    // paint at scraddr
</span></span><span style=display:flex><span>    @paintword
</span></span><span style=display:flex><span>    <span style=color:#19177c>D</span><span style=color:#666>=</span>M
</span></span><span style=display:flex><span>    @scraddr
</span></span><span style=display:flex><span>    <span style=color:#19177c>A</span><span style=color:#666>=</span>M
</span></span><span style=display:flex><span>    <span style=color:#19177c>M</span><span style=color:#666>=</span>D
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    // increment scraddr
</span></span><span style=display:flex><span>    @scraddr
</span></span><span style=display:flex><span>    <span style=color:#19177c>M</span><span style=color:#666>=</span>M+1
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    @scrend
</span></span><span style=display:flex><span>    <span style=color:#19177c>D</span><span style=color:#666>=</span>M
</span></span><span style=display:flex><span>    @scraddr
</span></span><span style=display:flex><span>    <span style=color:#19177c>D</span><span style=color:#666>=</span>D-M // positive <span style=color:green;font-weight:700>until</span> <span style=color:#19177c>scraddr</span><span style=color:#666>=</span>scrend
</span></span><span style=display:flex><span>    @KEEPPAINTING
</span></span><span style=display:flex><span>    D;JGT
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>// jump back
</span></span><span style=display:flex><span>@paintword
</span></span><span style=display:flex><span><span style=color:#19177c>D</span><span style=color:#666>=</span>M
</span></span><span style=display:flex><span>@PAINTEDWHITE
</span></span><span style=display:flex><span>D;JEQ // <span style=color:green;font-weight:700>if</span> paintword is 0, painted white
</span></span><span style=display:flex><span>@PAINTEDBLACK
</span></span><span style=display:flex><span>0;JMP
</span></span></code></pre></td></tr></table></div></div></article><article><h2>RC 02 (R, wavey!)</h2><p>This week, I completed project 3 of Nand2Tetris, learned some deeper fundamentals of statistical learning in R, and wrote my first interactive thing in D3.</p><p><a href=https://d3js.org/>D3.js</a> is a widely used javascript library for creating beautiful, interactive visualizations on the web. I made quite a simple interactive sine wave plotter, but the exercise took hours and really helped me gain insight in to D3&rsquo;s declarative approach to data-centric object manipulation. Code for the thing <a href=https://gist.githubusercontent.com/robinovitch61/5b61f550b3b0cd279c6e8a3679a9623e/raw/d8dfa4ee588339bae1ae60d0f0e60be68f4d3ba6/d3_sine_wave.html>here</a>. Play with it <a href=https://jsfiddle.net/robinovitch61/3nwjzkdx/>here</a>.</p><a class=img-link target=_blank href=/img/d3-sine.gif><figure><img style=max-width:95% src=/img/d3-sine.gif alt=d3-sine.gif><figcaption class=figcaption-text>D3 Makin' Waves</figcaption></figure></a><p>R is a tool for statistical computing and visualization. It is often used in research and many awesome data scientists work in both python or R depending on the application. Much like python, there have been a huge number of tools and packages built for and on top of R (matplotlib = ggplot2, Plotly&rsquo;s Dash = Rstudio&rsquo;s Shiny, Jupyter Notebooks = R Markdown, etc.)</p><p>I was hesitant on learning R because so much of the language has a python analog and I&rsquo;m already proficient in python. After some conversation and reflection though, it does seem like a good thing to learn. The language of R is geared explicitly towards statistics. As a basic example, here is how to get 100 samples from a normal distribution with zero mean and unity variance in each language:</p><div class=highlight><div style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#408080;font-style:italic># python</span>
</span></span><span style=display:flex><span><span style=color:green;font-weight:700>import</span> <span style=color:#00f;font-weight:700>numpy</span> <span style=color:green;font-weight:700>as</span> <span style=color:#00f;font-weight:700>np</span> <span style=color:#408080;font-style:italic># could also use a scipy function</span>
</span></span><span style=display:flex><span>np<span style=color:#666>.</span>random<span style=color:#666>.</span>normal(loc<span style=color:#666>=</span><span style=color:#666>0</span>, scale<span style=color:#666>=</span><span style=color:#666>1</span>, size<span style=color:#666>=</span><span style=color:#666>100</span>)
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-R data-lang=R><span style=display:flex><span><span style=color:#408080;font-style:italic># R</span>
</span></span><span style=display:flex><span><span style=color:#00f>rnorm</span>(n<span style=color:#666>=</span><span style=color:#666>100</span>, mean<span style=color:#666>=</span><span style=color:#666>0</span>, sd<span style=color:#666>=</span><span style=color:#666>1</span>)
</span></span></code></pre></td></tr></table></div></div><p>It&rsquo;s not just that it&rsquo;s 2 lines of code versus 1. It&rsquo;s that <code>rnorm</code> is built in to the standard library in R whereas in python you have to import a package like <code>numpy</code> or <code>scipy</code>. I use these packages so much in python that I sometimes forget they&rsquo;re not in the standard library! This reinforces the premise that <em>python is the second best language for everything</em>. R should help me think statistically as it is a language primarily written for statistical thinking.</p><a class=img-link target=_blank href=/img/r-bane.png><figure><img style=max-width:95% src=/img/r-bane.png alt=r-bane.png><figcaption class=figcaption-text>In response to PythonMan</figcaption></figure></a><p>I was alternatingly enthralled by and so frustrated with the textbook <a href=http://faculty.marshall.usc.edu/gareth-james/ISL/>An Introduction to Statistical Learning</a> this week. The second chapter is so methodical in describing intuition for general model fitting, the bias-variance tradeoff, what model flexibility implies - all these great fundamental concepts! Then the third chapter seems to try to summarize all of mankind&rsquo;s theory on linear regression in 60 quite dense, sometimes incomprehensible pages&mldr;enter the frustration.</p><p>In our Machine Learning meetup group, the group was split on the textbook. I&rsquo;ve come to the conclusion that I&rsquo;ll just have to take it slower and reference outside resources when required. Two chapters/week is way too ambitious. I&rsquo;ll take the R exercises seriously and try to do derivations and note taking myself as required.</p><p>The way I&rsquo;m seeing things is the interactive data viz/web dev stuff is fun and lighter, the stats fundamentals is hard and necessary, and Nand2Tetris is perfectly balanced between the two. There&rsquo;s definitely the ongoing struggle with wanting to learn more, faster, but someone referenced this quote in their technical presentation this week and it was quite helpful:</p><blockquote><p>Never discourage anyone who continually makes progress, no matter how slow&mldr;even if that someone is yourself.</p></blockquote><p>Onward!</p></article><article><h2>RC 01 (logic immunity)</h2><p>I have been learning about basic computer architecture (logic gates) and working on a herd immunity simulation.</p><p>Computer architecture work has come from the awesome <a href=https://www.nand2tetris.org/>Nand2Tetris course</a> by Shimon Schocken and Noam Nisan. Shimon has a <a href="https://www.ted.com/talks/shimon_schocken_the_self_organizing_computer_course?language=pt">fantastic Ted Talk about the course</a> and many Recursers have done it in the past. I&rsquo;m 2 projects in to the first half of the course (<a href=https://www.coursera.org/learn/build-a-computer/home/welcome>Coursera link</a>)</p><p>The premise is that you start with a <code>Nand</code> (&ldquo;Not And&rdquo;) logic gate. The first project, you build other elementary logic gates from the <code>Nand</code> gate (e.g. <code>Not(x) = x Nand x</code>, furthermore <code>x And y = Not(x Nand y)</code>; etc.) The 12th and last project, you complete the operating system that you have built up from the <code>Nand</code> gate, with the 10 projects in between filling in all the gaps. You could build tetris (or any similar game) in the completed computer you have built &ldquo;from scratch&rdquo;.</p><a class=img-link target=_blank href=/img/nand2tetris_overview.png><figure><img style=max-width:95% src=/img/nand2tetris_overview.png alt=nand2tetris_overview.png><figcaption class=figcaption-text>The Nand2Tetris Overview</figcaption></figure></a><p>I am excited to keep digging in to the course. At 1 project per week, I&rsquo;ll complete the course just in time! I&rsquo;ve heard the last 6 projects are more time intensive than the first 6, so I&rsquo;m trying to budget time accordingly.</p><p>The other thing I&rsquo;ve been sinking time into is a prototype herd immunity simulation in python. <a href=https://github.com/haack>Alex Haak</a> and I are both excited about interactive data visualization and illustrating concepts through interactive online experiences. Our ultimate goal is to publish something on <a href=https://explorabl.es/>explorabl.es - Explorable Explanations</a>. This site is mind blowing. Don&rsquo;t visit it if you don&rsquo;t have a couple hours to kill.</p><p>Initial results for the simulator are really interesting! I came up with a simplified set of rules that give a certain level of complexity while still massively simplifying the real world. <a href=https://github.com/robinovitch61/herd_immunity>All the code is here.</a></p><a class=img-link target=_blank href=/img/good_immunity.gif><figure><img style=max-width:95% src=/img/good_immunity.gif alt=good_immunity.gif><figcaption class=figcaption-text>90% Immunity - Blue Immunity Protec</figcaption></figure></a><a class=img-link target=_blank href=/img/bad_immunity.gif><figure><img style=max-width:95% src=/img/bad_immunity.gif alt=bad_immunity.gif><figcaption class=figcaption-text>80% Immunity - Red Sickness Attac</figcaption></figure></a><p>Alex and I will be working on porting a modified version of this logic in to an awesome interactive data visualization - Alex is great with React, javascript, html, css, and general design so I&rsquo;m excited to learn a lot from him!</p><p>A mostly complete set of rules for the model:</p><ol><li><p>Number of agents is <code>GRID_WIDTH * GRID_HEIGHT = NUM_AGENTS</code>.
Each point in the rectangular grid is occupied by an agent.</p></li><li><p>Agents are randomly assigned an <code>IMMUNE</code> status, either 0
(susceptible) or 1 (immune), at the beginning.
<code>NUM_IMMUNE_START = PERC_IMMUNE_START * NUM_AGENTS</code></p></li><li><p>Agents are initially randomly flagged as sick, with
<code>NUM_SICK_START = PERC_SICK_START * NUM_AGENTS.</code> Immune agents
cannot be initially flagged as sick.</p></li><li><p>All agents that aren&rsquo;t immune or sick are set as initially healthy.</p></li><li><p>At each timestep, agents connect with some of the agents around them,
with probability of connecting to each agent within their
<code>CONNECTION_DISTANCE</code> being <code>PROB_SOCIAL</code> . This
determines the candidate pool a given agent could connect with:</p></li></ol><ul><li>If <code>CONNECTION_DISTANCE = 1</code>, agents have a candidate pool of &lt;= 8, that is, the agents directly around them in a square with themself at the center.</li><li>If <code>CONNECTION_DISTANCE = 2,</code> agents have a candidate pool of &lt;= 16, that is, the agents directly around them in 2 concentric squares with themself at the center.</li><li>etc. with <code>CONNECTION_DISTANCE &lt;= MAX(GRID_WIDTH, GRID_HEIGHT) - 1</code></li></ul><ol start=6><li><p>If a sick agent connects with a healthy agent who is not immune,
probability of infection is <code>PROB_INFECTION.</code> If a sick agent
connects with an immune agent, probability of infection is zero (could
change later accounting for imperfect vaccination success rate).</p></li><li><p>After infections occur, each agent has a chance to recover with
<code>PROB_RECOVERY</code>. Sick agents then have a chance to die with
<code>PROB_DEATH</code>.</p></li></ol><p>Recurse continues to be a fantastic experience, albeit a little overwhelming in the sheer volume of knowledge and opportunities it presents! This is a great problem to have. I am trying to stay focused on diving in to items of greatest interest while not burning myself out before the 12 weeks are up. It&rsquo;s also FLYING by.</p></article><article><h2>RC 00 (it begins)</h2><p>It is day 3 at the Recurse Center (RC)!</p><a class=img-link target=_blank href=/img/me-rust-haskell.gif><figure><img style=max-width:95% src=/img/me-rust-haskell.gif alt=me-rust-haskell.gif><figcaption class=figcaption-text>Me experimenting with Haskell and Rust</figcaption></figure></a><p>It has been a whirlwind of orientation, meeting awesome people, learning about (and about the existence of) new cool things, setting up and settling in.</p><p>This was my second day here:</p><ul><li><em>8-9am</em>: Research blogging tools to create this very website. Decide on Jekyll + github pages + namecheap domain as a good solution</li><li><em>9-10am</em>: Update MacOS to Mojave after experiencing ruby-related jekyll issues</li><li><em>10-11am</em>: Using <a href=https://jekyllrb.com/docs/step-by-step/01-setup/>this great tutorial</a>, get <code>jekyll</code> and <code>bundler</code> installed. Get <code>jekyll serve</code> working and start developing this blog</li><li><em>11-12pm</em>: Pair programming workshop! Create a version of <a href=https://en.wikipedia.org/wiki/Conway%27s_Game_of_Life>Conway&rsquo;s Game of Life</a> in python. <a href=https://gist.github.com/robinovitch61/8a094c15f8cc28ec9218a1baf6b211c6#file-game_of_life-py>Gist here</a>.</li><li><em>12-12:15pm</em>: Discuss wind speed measurements using an arduino with someone working on an auto-steering sailboat. Yay mech eng knowledge!</li><li><em>12:15-1pm</em>: Lunch chat with someone, discuss what Rust is and why people are excited about it (memory and type safety)</li><li><em>1-2pm</em>: Participated in an &ldquo;Intro to Haskell&rdquo; workshop. No loops, variables don&rsquo;t vary, unclear code execution order&mldr;what is this language??</li><li><em>2-3pm</em>: Continue site development</li><li><em>3-4pm</em>: Category theory discussion group. First foray into theoretical math in a long time. Approachable intro by the few folks with deeper knowledge on the topic.</li><li><em>4-5:30pm</em>: Further introductory Haskell chat, help solidify some core concepts intro&rsquo;d earlier</li><li><em>5:30-6:30pm</em>: Non-technical presentations (7 mins max) - folks did them on cross stitching, rube goldberg machine demo, cats, contact juggling, architecture, and the origin of the English language</li></ul><p>It&rsquo;s everything I had hoped for and more.</p><p>The space is incredible, with tons of work stations, a large library, 5 or 6 functioning vintage PCs from the early days to play with, breakout rooms, an LED project you can control via your computer, a nap space, and clean and functional kitchen/lunch area.</p><p>My goals here are (in no particular order):</p><ul><li>Gain a stronger foundation in computer science theory (algorithms, data structures, complexity management, etc.)</li><li>Continue to build on my statistics and probability knowledge, likely with some forays in to AI projects</li><li>Learn of more &ldquo;unknown unkowns&rdquo; - concepts that I didn&rsquo;t know existed but are incredibly interesting and/or useful</li><li>Reshape my assumptions about education and what the learning process looks like</li><li>Become a much more effective programmer so I can kick ass at my next role</li></ul><p>Some pitfalls I&rsquo;d like to avoid:</p><ul><li>Have my time dominated by learning tools rather than understanding concepts and theory. Learning a tool (e.g. a new programming language, framework, library, etc.) can be done when it&rsquo;s time to implement conceptually complete visions</li><li>Stretch myself too thin by trying to learn everything and then feeling like I&rsquo;m not really learning anything</li><li>Get sucked in by &ldquo;the hype&rdquo; around a language or domain without properly evaluating whether or not it is the best way to spend my time at my current stage of development</li><li>Lose steam by pushing too hard, feeling like I&rsquo;m not succeeding, or failing to achieve my incremental goals</li></ul><p>I&rsquo;m so excited! Pitter patter&mldr;</p></article></div><footer></footer></body></html>